(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,a){e.exports=a(35)},28:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),s=(a(27),a(28),a(8)),m=a(9),u=a(2),o=a.n(u),i=a(5),d=a(11),f=a(13),E=a(6),p=function(){var e={name:"",addedMessage:""},t=Object(n.useState)(e),a=Object(E.a)(t,2),c=a[0],l=a[1];return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement("h1",null,"Share Ideas!"),r.a.createElement("p",null,"Welcome to Share Ideas! Share what you are thinking and let us discuss on those ideas further!"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a=t.target.elements.name;if(""===a.value.trim())return alert("Please enter a name for your idea."),void l(e);(function(){var e=Object(i.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/ideas",{method:"post",body:JSON.stringify({name:a.value}),headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,l(Object(f.a)({},c,{addedMessage:n.name})),alert('Your idea "'.concat(c.name,'" has been added successfully!'));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}},r.a.createElement("input",{value:c.name,onChange:function(e){var t=e.target,a=t.name,n=t.value;l(Object(f.a)({},c,Object(d.a)({},a,n)))},type:"text",placeholder:"Share your idea...",name:"name",required:!0}),r.a.createElement("button",{type:"submit"},"Submit Idea")))))},h=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement("h1",null,"Share your ideas!"),r.a.createElement("p",null,"Welcome to Share Ideas! Share what you are thinking and let us discuss on those ideas further!"),r.a.createElement("p",null,"Built from the course offered by Shaun Wassell."))))},v=function(e){var t=e.list;return r.a.createElement(r.a.Fragment,null,t.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(s.b,{to:"/ideas/".concat(e._id)},r.a.createElement("h3",null,e.name)))})))},b=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement("p",null,"Loading..."))))},g=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement("p",null,"No idea found, sorry!"))))},j=function(){var e=Object(n.useState)([]),t=Object(E.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){try{(function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/ideas");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,c(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}catch(e){console.log(e)}}),[]),a?0===a.length?r.a.createElement(g,null):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement(v,{list:a})))):r.a.createElement(b,null)},y=function(e){var t=e.comments;return t&&0!==t.length?r.a.createElement(r.a.Fragment,null,t.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("h4",null,e.username),r.a.createElement("p",null,e.message))}))):r.a.createElement("p",null,"No comments available.")},N=function(e){var t=e.id,a=e.setIdeaInfo,c={username:"",message:""},l=Object(n.useState)(c),s=Object(E.a)(l,2),m=s[0],u=s[1],p=function(e){var t=e.target,a=t.name,n=t.value;u(Object(f.a)({},m,Object(d.a)({},a,n)))};return r.a.createElement("div",null,r.a.createElement("h3",null,"Add a comment"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=e.target.elements,r=n.message,l=n.username;if(""===r.value.trim()||""===l.value.trim())return alert("Please enter a username and message to post a comment."),void u(c);(function(){var e=Object(i.a)(o.a.mark((function e(){var n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/ideas/".concat(t,"/comments"),{method:"post",body:JSON.stringify({username:l.value,message:r.value}),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:s=e.sent,a(s),u(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}},r.a.createElement("label",{htmlFor:"username"},r.a.createElement("input",{value:m.username,onChange:p,name:"username",type:"text",placeholder:"Enter Username",required:!0})),r.a.createElement("label",{htmlFor:"message"},r.a.createElement("textarea",{value:m.message,onChange:p,name:"message",type:"text",placeholder:"Enter message",required:!0})),r.a.createElement("button",{type:"submit"},"Add a comment")))},O=function(e){var t=e.id,a=e.likes,n=e.setIdeaInfo,c=function(){var e=Object(i.a)(o.a.mark((function e(){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/ideas/".concat(t,"/likes"),{method:"post"});case 2:return a=e.sent,e.next=5,a.json();case 5:r=e.sent,n(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("p",null,"This idea has been liked ",a," times."),r.a.createElement("button",{onClick:c},"Like"))},x=function(e){var t=e.match.params.id,a=Object(n.useState)([]),c=Object(E.a)(a,2),l=c[0],s=c[1],m=Object(n.useState)({}),u=Object(E.a)(m,2),d=u[0],f=u[1];Object(n.useEffect)((function(){try{(function(){var e=Object(i.a)(o.a.mark((function e(){var a,n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([fetch("/api/ideas").then((function(e){return e.json()})),fetch("/api/ideas/".concat(t)).then((function(e){return e.json()}))]);case 2:a=e.sent,n=Object(E.a)(a,2),r=n[0],c=n[1],s(r),f(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}catch(e){console.log(e)}}),[t]);var p=l.find((function(e){return e._id===t})),h=l.filter((function(e){return e._id!==t}));return l&&0!==l.length&&p?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement("h1",null,p.name),r.a.createElement(O,{id:t,likes:d.likes,setIdeaInfo:f}),r.a.createElement("hr",null),r.a.createElement("h2",null,"Comment"),r.a.createElement(y,{comments:d.comments}),r.a.createElement(N,{id:t,setIdeaInfo:f}),r.a.createElement("hr",null),r.a.createElement("h2",null,"Other Ideas"),r.a.createElement(v,{list:h})))):r.a.createElement(g,null)},w=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:"row"},r.a.createElement("li",{className:"column column-25"},r.a.createElement(s.b,{to:"/"},"Home")),r.a.createElement("li",{className:"column column-25"},r.a.createElement(s.b,{to:"/about"},"About")),r.a.createElement("li",{className:"column column-25"},r.a.createElement(s.b,{to:"/ideas"},"Ideas"))))},S=function(){return r.a.createElement(s.a,null,r.a.createElement(w,null),r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/",component:p,exact:!0}),r.a.createElement(m.a,{path:"/about",component:h,exact:!0}),r.a.createElement(m.a,{path:"/ideas",component:j,exact:!0}),r.a.createElement(m.a,{path:"/ideas/:id",component:x,exact:!0}),r.a.createElement(m.a,{component:g})))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.ef7336c7.chunk.js.map